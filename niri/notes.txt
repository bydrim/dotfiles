sudo dnf copr enable yalter/niri
# Stable release
sudo dnf copr enable avengemedia/dms
sudo dnf install niri dms mate-polkit

# instead of triggering processes from config.kdl, we are creating
# local systemd services as adviced in niri docs.
cp wl-paste.service ~/.config/systemd/user
# verify the location of the executable 'polkit-mate-authentication-agent-1'
cp mate-polkit-agent.service ~/.config/systemd/user

# let systemd pick up changes
systemctl --user daemon-reload

# add other services as systemd dependency for niri so they ll start with niri.
systemctl --user add-wants niri.service dms.service
systemctl --user add-wants niri.service wl-paste.service
systemctl --user add-wants niri.service mate-polkit-agent.service

# NVidia problem
sudo mkdir -p /etc/nvidia/nvidia-application-profiles-rc.d
sudo cp 50-limit-free-buffer-pool-in-wayland-compositors.json /etc/nvidia/nvidia-application-profiles-rc.d/
